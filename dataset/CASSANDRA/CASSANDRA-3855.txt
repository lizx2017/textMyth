Summary:
RemoveDeleted dominates compaction time for large sstable counts
Description:
With very large numbers of sstables (2000+ generated by a `bin/stress -n 100,000,000` run with LeveledCompactionStrategy), PrecompactedRow.removeDeletedAndOldShards dominates compaction runtime, such that commenting it out takes compaction throughput from 200KB/s to 12MB/s.
Stack attached.
Status:
RESOLVED
Priority:
Normal
Resolution:
Fixed
Affects_version:

Fix_version:
1.2.0 beta 1
Component:
None
Label:
compaction deletes l
Environment:

Attachment number:
0
Assignee:
Yuki Morishita
Reporter:
Stu Hood
Create date:
05/Feb/12 21:52
Update date:
16/Apr/19 09:32
Resolved date:
20/Jul/12 22:35
