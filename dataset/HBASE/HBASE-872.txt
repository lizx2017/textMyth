Summary:
Getting exceptions in shell when creating/disabling tables
Description:
On the list from Dru Jensen:
I am testing the release candidate with hadoop 0.17.2.1 release. I am curious if others are seeing this or if I have something mis-configured.
I reformatted the dfs and recreated everything from scratch.
hbase(main):009:0> version
Version: 0.2.1, r691710, Wed Sep 3 11:50:24 PDT 2008
I occasionally get the following error performing a create table. However when I do a list, the table was successfully created.
hbase(main):007:0> create 'test', 'avg', 'std', 'max'
NativeException: org.apache.hadoop.hbase.client.NoServerForRegionException: No server address listed in .META. for region test,,1220628716239
from org/apache/hadoop/hbase/client/HConnectionManager.java:536:in `locateRegionInMeta'
from org/apache/hadoop/hbase/client/HConnectionManager.java:459:in `locateRegion'
from org/apache/hadoop/hbase/client/HConnectionManager.java:419:in `locateRegion'
from org/apache/hadoop/hbase/client/HBaseAdmin.java:157:in `createTable'
from sun/reflect/NativeMethodAccessorImpl.java:-2:in `invoke0'
from sun/reflect/NativeMethodAccessorImpl.java:39:in `invoke'
from sun/reflect/DelegatingMethodAccessorImpl.java:25:in `invoke'
from java/lang/reflect/Method.java:585:in `invoke'
from org/jruby/javasupport/JavaMethod.java:250:in `invokeWithExceptionHandling'
from org/jruby/javasupport/JavaMethod.java:219:in `invoke'
from org/jruby/javasupport/JavaClass.java:416:in `execute'
from org/jruby/internal/runtime/methods/SimpleCallbackMethod.java:67:in `call'
from org/jruby/internal/runtime/methods/DynamicMethod.java:78:in `call'
from org/jruby/runtime/CallSite.java:329:in `call'
from org/jruby/evaluator/ASTInterpreter.java:649:in `callNode'
from org/jruby/evaluator/ASTInterpreter.java:324:in `evalInternal'
... 121 levels...
from ruby.opt.hbase_minus_0_dot_2_dot_1.bin.hirbInvokermethod__23$RUBY$startOpt:-1:in `call'
from org/jruby/internal/runtime/methods/DynamicMethod.java:74:in `call'
from org/jruby/internal/runtime/methods/CompiledMethod.java:48:in `call'
from org/jruby/runtime/CallSite.java:123:in `cacheAndCall'
from org/jruby/runtime/CallSite.java:298:in `call'
from ruby/opt/hbase_minus_0_dot_2_dot_1/bin//opt/hbase/bin/../bin/hirb.rb:351:in `_file_'
from ruby/opt/hbase_minus_0_dot_2_dot_1/bin//opt/hbase/bin/../bin/hirb.rb:-1:in `_file_'
from ruby/opt/hbase_minus_0_dot_2_dot_1/bin//opt/hbase/bin/../bin/hirb.rb:-1:in `load'
from org/jruby/Ruby.java:512:in `runScript'
from org/jruby/Ruby.java:432:in `runNormally'
from org/jruby/Ruby.java:312:in `runFromMain'
from org/jruby/Main.java:144:in `run'
from org/jruby/Main.java:89:in `run'
from org/jruby/Main.java:80:in `main'
from /opt/hbase/bin/../bin/hirb.rb:228:in `create'
from (hbase):8:in `binding'hbase(main):008:0>
And occasionally, I get this exception when trying to disable a table. However it was successfully disabled.
hbase(main):002:0> disable 'test'
NativeException: java.io.IOException: unable to disable table test
from org/apache/hadoop/hbase/client/HBaseAdmin.java:418:in `disableTable'
from org/apache/hadoop/hbase/client/HBaseAdmin.java:379:in `disableTable'
from sun/reflect/NativeMethodAccessorImpl.java:-2:in `invoke0'
from sun/reflect/NativeMethodAccessorImpl.java:39:in `invoke'
from sun/reflect/DelegatingMethodAccessorImpl.java:25:in `invoke'
from java/lang/reflect/Method.java:585:in `invoke'
from org/jruby/javasupport/JavaMethod.java:250:in `invokeWithExceptionHandling'
from org/jruby/javasupport/JavaMethod.java:219:in `invoke'
from org/jruby/javasupport/JavaClass.java:416:in `execute'
from org/jruby/internal/runtime/methods/SimpleCallbackMethod.java:67:in `call'
from org/jruby/internal/runtime/methods/DynamicMethod.java:78:in `call'
from org/jruby/runtime/CallSite.java:155:in `cacheAndCall'
from org/jruby/runtime/CallSite.java:332:in `call'
from org/jruby/evaluator/ASTInterpreter.java:649:in `callNode'
from org/jruby/evaluator/ASTInterpreter.java:324:in `evalInternal'
from org/jruby/evaluator/ASTInterpreter.java:620:in `blockNode'
... 121 levels...
from ruby.opt.hbase_minus_0_dot_2_dot_1.bin.hirbInvokermethod__23$RUBY$startOpt:-1:in `call'
from org/jruby/internal/runtime/methods/DynamicMethod.java:74:in `call'
from org/jruby/internal/runtime/methods/CompiledMethod.java:48:in `call'
from org/jruby/runtime/CallSite.java:123:in `cacheAndCall'
from org/jruby/runtime/CallSite.java:298:in `call'
from ruby/opt/hbase_minus_0_dot_2_dot_1/bin//opt/hbase/bin/../bin/hirb.rb:351:in `_file_'
from ruby/opt/hbase_minus_0_dot_2_dot_1/bin//opt/hbase/bin/../bin/hirb.rb:-1:in `_file_'
from ruby/opt/hbase_minus_0_dot_2_dot_1/bin//opt/hbase/bin/../bin/hirb.rb:-1:in `load'
from org/jruby/Ruby.java:512:in `runScript'
from org/jruby/Ruby.java:432:in `runNormally'
from org/jruby/Ruby.java:312:in `runFromMain'
from org/jruby/Main.java:144:in `run'
from org/jruby/Main.java:89:in `run'
from org/jruby/Main.java:80:in `main'
from /opt/hbase/bin/../bin/hirb.rb:254:in `disable'
Status:
CLOSED
Priority:
Blocker
Resolution:
Fixed
Affects_version:
0.2.1, 0.18.0
Fix_version:
0.2.1, 0.18.0
Component:
None
Label:
None
Environment:

Attachment number:
0
Assignee:
Jean-Daniel Cryans
Reporter:
Jean-Daniel Cryans
Create date:
05/Sep/08 15:50
Update date:
13/Sep/08 23:22
Resolved date:
05/Sep/08 23:57
